<nav class="navbar navbar-expand-lg navbar-light bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand text-white">Dating app</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        @if (AcountService.CurrentUser()) {
        <li class="nav-item raise">
          <a
            class="nav-link text-white"
            routerLink="/members"
            routerLinkActive="active"
            >Matches</a
          >
        </li>
        <li class="nav-item raise">
          <a
            class="nav-link"
            routerLink="/lists"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            >Lists</a
          >
        </li>
        <li class="nav-item raise">
          <a
            class="nav-link text-white"
            routerLink="/messages"
            routerLinkActive="active"
            >Masseges</a
          >
        </li>
        <li class="nav-item raise" (click)="logout()">
          <a class="nav-link text-white">
            <i class="fa-solid fa-right-from-bracket"></i>
            LogOut</a
          >
        </li>
        }
        <li class="nav-item raise" routerLink="errors">
          <a class="nav-link text-white">
            <i class="fa-solid fa-right-from-bracket"></i>
            Errors</a
          >
        </li>
      </ul>

      @if (AcountService.CurrentUser()) {
        <div class="btn-group " dropdown>
          <button
            id="button-animated"
            dropdownToggle
            type="button"
            class="btn btn-dark dropdown-toggle"
            aria-controls="dropdown-animated"
          >
            <img [src]="AcountService.CurrentUser()?.photoUrl"
             class="imgesicon" alt="">
            Welcome {{ AcountService.CurrentUser()?.username |titlecase}}
            <span class="caret text-danger">*</span>
          </button>
          <ul
            id="dropdown-animated"
            *dropdownMenu
            class="dropdown-menu"
            role="menu"
            aria-labelledby="button-animated"
          >
          <li role="menuitem">
            <a class="d-flex justify-content-center">
              <img [src]="AcountService.CurrentUser()?.photoUrl"
              class="dewobimg" alt="">
            </a>
            <span class="text-center d-flex justify-content-center"> {{ AcountService.CurrentUser()?.username |titlecase}}</span>
          </li>
            <li role="menuitem">
              <a class="dropdown-item"routerLink="member/edit" >
                <i class="fa-solid fa-pen-to-square"></i>
                Edit Profile</a
              >
            </li>
            <li role="menuitem" (click)="logout()">
              <a class="dropdown-item">
                <i class="fa-solid fa-right-from-bracket"></i>
                LogOut</a
              >
            </li>
          </ul>
        </div>
        } 
        @else { 
        <!-- Button trigger modal -->
        <button
          type="button"
          class="btn btn-danger"
          data-bs-toggle="modal"
          data-bs-target="#staticBackdrop"
        >
          <i class="fa-solid fa-right-to-bracket"></i>
          login
        </button>
         }
      <div
        class="modal fade"
        id="staticBackdrop"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="staticBackdropLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="staticBackdropLabel">
                <i class="fa-solid fa-right-to-bracket"></i>
                Login
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form
                class="d-flex"
                (ngSubmit)="login(logins)"
                #logins="ngForm"
                autocomplete="of"
              >
                <div class="container">
                  <div class="row">
                    <div class="col-md-12">
                      <label>
                        <i class="fa-solid fa-user"></i>
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        class="form-control mb-2"
                        ngModel
                        name="username"
                        required
                        placeholder="UserName"
                      />
                      <label>
                        <i class="fa-solid fa-lock"></i>
                        <span class="text-danger">*</span>
                      </label>
                      <input
                        class="form-control"
                        ngModel
                        name="password"
                        required
                        placeholder="password"
                        type="password"
                      />
                      <br />
                      <button
                        class="btn btn-outline-success w-100"
                        [disabled]="logins.invalid"
                        type="submit"
                      >
                        Login
                      </button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
                <i class="fa-solid fa-x"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
